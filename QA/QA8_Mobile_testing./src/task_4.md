### Уровни логов для анализа проблемы

| Уровень логирования | Обоснование выбора |
| :--- | :--- |
| **ERROR** | **Самый важный уровень.** Он содержит записи о критических ошибках и исключениях, которые прямо привели к аварийному завершению работы приложения (крашу) |
| **WARN (Warning)** | **Важен для контекста.** Может содержать предупреждения о неожиданных состояниях системы, которые предшествовали крашу (например, нехватка памяти, проблемы с сетью) |
| **DEBUG** | **Полезен для понимания последовательности событий.** Поможет отследить, какие шаги выполняло приложение непосредственно перед падением (например, какие данные запрашивались, какой метод был вызван) |

### Механизмы логирования 

| Шаг | Действие | Комментарий |
| :--- | :--- | :--- |
| **1** | **Активировать режим разработчика** на тестовом Android-устройстве | Обычно для этого нужно несколько раз нажать на номер сборки в настройках |
| **2** | **Подключить устройство к компьютеру** по USB и разрешить отладку | |
| **3** | **Запустить среду разработки Android Studio.** | Можно использовать и командную строку с ADB (Android Debug Bridge) |
| **4** | **Открыть вкладку "Logcat"** в Android Studio | Здесь в реальном времени будет отображаться поток логов с устройства |
| **5** | **Выбрать в выпадающем списке процесс вашего банковского приложения.** | Это отфильтрует гигантский поток системных логов и покажет только относящиеся к вашему приложению |
| **6** | **Воспроизвести баг:** открыть историю операций за последний месяц | В момент краша в Logcat появятся ключевые сообщения |

### Примеры фильтров

| Тип фильтра | Пример фильтра (в поле поиска Logcat) | Что помогает найти |
| :--- | :--- | :--- |
| **По уровню важности** | level: error | Все сообщения уровня ERROR — помогают найти вероятную причину падения |
| **По тегу/имени процесса** | package: com.example.bankapp <br> tag: MyBankingViewModel | Логи только от вашего приложения или конкретного модуля, где происходит запрос истории |
| **По ключевому слову** | FATAL <br> Crash <br> Exception | Прямые указания на сбой |
| | TransactionHistory <br> "последний месяц" | Логи, содержащие упоминания тестируемой функции |
| **Комбинированный фильтр** | package: com.example.bankapp level:error Exception | Самый точный поиск: ошибки (ERROR) с исключениями (Exception) только в вашем приложении |

###  Драфт баг-репорт 

| **Поле** | **Содержание** |
| :--- | :--- |
| **Заголовок** | Мобильное приложение: Краш при попытке открыть историю операций за последний месяц |
| **Серьезность (Severity)** | Critical / S1 (Приложение полностью прекращает работу) |
| **Среда** | • Устройство: Google Pixel 7 (Android 14) <br> • Версия приложения: 2.5.1 (build 145) <br> • Аккаунт: Тестовый, с более чем 50 операциями за месяц |
| **Шаги воспроизведения** | 1. Авторизоваться в приложении. <br> 2. Перейти в раздел "История операций". <br> 3. В фильтрах выбрать период "За последний месяц". <br> 4. Нажать кнопку "Применить". |
| **Ожидаемый результат** | Приложение должно отобразить список операций за выбранный период |
| **Фактический результат** | Приложение аварийно завершает работу (происходит краш) |
| **Логи / Доказательства** | **Пример логов, снятых через Logcat в момент краша:** <br> <br> E AndroidRuntime: FATAL EXCEPTION: main <br> E AndroidRuntime: Process: com.example.bankapp, PID: 22451 <br> E AndroidRuntime: java.lang.NullPointerException: Attempt to invoke virtual method 'java.util.List com.example.bankapp.data.Transaction.parseFromJson(org.json.JSONObject)' on a null object reference <br> E AndroidRuntime: at com.example.bankapp.ui.history.TransactionHistoryViewModel.loadData(TransactionHistoryViewModel.java:47) <br> "..." <br> <br> W System.err: Caused by: org.json.JSONException: No value for amount <br> I AppLifecycle: onPause() called for MainActivity <br> E ActivityManager:   Force finishing activity com.example.bankapp/.ui.history.HistoryActivity |
| **Анализ по логам** | 1. **Причина краша — NullPointerException** (строка E AndroidRuntime). <br> 2. **Источник ошибки** — метод loadData в TransactionHistoryViewModel.java:47. <br> 3. **Возможная причина** — не удалось распарсить JSON-объект транзакции, так как в нем отсутствует обязательное поле amount (строка W System.err). <br> 4. **Гипотеза для разработчика**: Сервер возвращает в истории транзакцию с "null" значением или без поля "amount", на что клиентское приложение не рассчитано |
| **Дополнительно** | Для полноты картины разработчику также может понадобиться проверить: <br> • **Логи сервера** на предмет ошибок 5xx или нестандартного ответа API. <br> • **Сетевой трафик** (например, через Charles Proxy), чтобы увидеть тело ответа от сервера непосредственно перед крашем |

