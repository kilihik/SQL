## Введение

![T00_01](misc/images/T00_01.png)

Дано конечное число «городов» и стоимость перемещения между каждой парой городов. Требуется найти самый дешёвый маршрут, позволяющий посетить все города и вернуться в исходную точку.

(На изображении показан конкурс, проведённый компанией Proctor and Gamble в 1962 году. Участникам требовалось решить задачу коммивояжёра для набора из 33 городов. Несколько человек нашли оптимальное решение, и между ними зафиксирована ничья. Одним из победителей стал профессор Джеральд Томпсон из Университета Карнеги-Меллона — один из первых исследователей этой задачи.)

Дан конечный полный граф с целочисленными весами на рёбрах. Требуется найти гамильтонов цикл (то есть цикл, проходящий через все вершины) с минимальным суммарным весом. В данном контексте гамильтоновы циклы также называют турами.

![T00_00](misc/images/T00_00.png)

Истоки задачи коммивояжёра (TSP) не до конца ясны. В 1920-х годах математик и экономист Карл Менгер опубликовал её среди своих коллег в Вене. В 1930-х годах эта задача вновь привлекла внимание математиков в Принстоне. В 1940-х годах её изучали статистики (Махаланобис (1940), Йессен (1942), Гош (1948), Маркс (1948)) в контексте сельскохозяйственного применения, а математик Мерилл Флуд популяризировал её среди коллег в корпорации RAND. В конечном счёте, задача коммивояжёра стала известна как прототип сложной задачи комбинаторной оптимизации: исследовать все маршруты по одному невозможно из-за их огромного количества, и долгое время не возникало других идей по эффективному решению.

## Chapter II
## Рекомендации к выполнению этого проекта

- Убедись, что ты работаешь с последней версией PostgreSQL.
- Ты можешь писать код (SQL-скрипты) в любой удобной IDE - это совершенно нормально.
- В директории должны оставаться только файлы, явно указанные в задании. Настрой .gitignore, чтобы избежать случайных ошибок.
- Убедись, что у тебя есть личная база данных и доступ к ней в твоем кластере PostgreSQL.
- В каждом задании внимательно ознакомься с разделами «Разрешено» и «Запрещено» - там перечислены допустимые опции базы данных, типы, конструкции SQL и другие важные ограничения.
- Да прибудет с тобой сила SQL!
- Приступай к работе - и пусть это будет увлекательно!

## Chapter III
## Задание 00 — Classical TSP

| Задание 00: Classical TSP | |
|--------------------------|--|
| Директория для загрузки решений | ex00 |
| Файлы для загрузки | `team00_ex00.sql` DDL for table creation with INSERTs of data; SQL DML statement |
| **Разрешено** | |
| Язык | ANSI SQL |
| Шаблон синтаксиса SQL | Рекурсивный запрос |

![T00_02](misc/images/T00_02.png)

Это командный проект. Изучите граф. В нём четыре города (a, b, c и d) и дуги между ними с указанием стоимости (или налогов). На самом деле стоимость одинакова в обе стороны, то есть cost(a, b) = cost(b, a).

Создайте таблицу с названными узлами по структуре {point1, point2, cost} и заполни её данными согласно изображению (не забывай, что между двумя узлами есть пути в обоих направлениях).

Напишите SQL-запрос, который вернет все маршруты (также называемые путями) с минимальной суммарной стоимостью путешествия, если стартовать из города «a». Помните, что нужно найти самый дешевый способ посетить все города и вернуться в исходную точку.

Например, маршрут может выглядеть так: a -> b -> c -> d -> a.

Ниже приведен пример вывода данных.

Отсортируйте результат сначала по total_cost, а затем по маршруту (tour).

| total_cost | tour |
|------------|------|
| 80 | {a,b,d,c,a} |
| ... | ... |

## Задание 01 — Opposite TSP

| Задание 01: Opposite TSP | |
|-------------------------|--|
| Директория для загрузки решений | ex01 |
| Файлы для загрузки | `team00_ex01.sql` SQL DML statement |
| **Разрешено** | |
| Язык | ANSI SQL |
| Шаблон синтаксиса SQL | Рекурсивный запрос |

Добавьте возможность вывести дополнительные строки с самой высокой стоимостью к SQL-запросу из предыдущего упражнения.  
Ознакомьтесь с приведенным ниже примером данных.  
Отсортируйте результат сначала по total_cost, а затем по маршруту (tour).

| total_cost | tour |
|------------|------|
| 80 | {a,b,d,c,a} |
| ... | ... |
| 95 | {a,d,c,b,a} |